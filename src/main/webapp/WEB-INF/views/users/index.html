<!DOCTYPE html>
<html
        lang="en"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="https://www.thymeleaf.org"
        xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
>
<head th:insert="fragments/head :: head"></head>

<body>


<div class="container">
    <div class="content">
        <h2>Lista de usuario</h2>

        <form class="form-inline" method="get">
            <div class="form-group">
                <select name="filter" class="form-control" onchange="form.submit()">
                    <option value="0">Filtros de datos de usuarios</option>
                    <option value="1" selected>Fijo</option>
                    <option value="2">>Contratado</option>
                    <option value="3">Outsourcing</option>
                </select>
            </div>
        </form>

        <br/>
        <div class="table-responsive col-md-6">
            <div th:switch="${users}">
                <h2 th:case="null">No users yet!</h2>
                <div th:case="*">
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Email</th>
                            <th>Rol</th>
                            <th>Estado</th>
                            <th>Editar</th>
                            <th>Eliminar</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="user : ${users}">
                            <td th:text="${user.username}"></td>
                            <td th:text="${user.email}"></td>

                            <td>
                                <span class="label label-info" th:text="${user.role.name}"></span>
                            </td>
                            <td>
                                <span class="label label-success">Activo</span>
                            </td>

                            <td><a th:href="@{/edit/{id}(id=${user.id})}" title="Editar datos" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span></a></td>
                            <td><a th:href="@{/delete/{id}(id=${user.id})}" title="Eliminar" onclick="return confirm('Esta seguro de borrar los datos')" class="btn btn-danger btn-sm" ><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a></td>

                        </tr>
                        </tbody>
                    </table>
                </div>
                <p><a href="/signup">Add a new user</a></p>

            </div>
        </div>

    </div>
</div>


</body>
<div th:insert="fragments/foot :: footer"></div>
</html>
